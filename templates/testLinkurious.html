<!DOCTYPE html>
<html>
<head>
    <title>L1916GRAPHDEMO</title>
    <script src="/static/js/jquery-2.2.1.min.js"></script>
  <!--  <script type="text/javascript" src="/static/js/libraries/sigma.js/build/sigma.min.js"></script> -->
   <!-- <script type="text/javascript" src="/static/js/libraries/linkurious.js/build/plugins.js"></script> -->
    <!--<script src="/static/js/libraries/linkurious.js/dist/plugins/sigma.layouts.fruchtermanReingold.min.js"></script>-->
 

    <script type="text/javascript" src="/static/js/libraries/tinycolor.js"></script>
     <script type="text/javascript" src="/static/js/libraries/jquery.ba-throttle-debounce.min.js"></script>






 <script src="/static/js/libraries/sigma.js/sigma.min.js"></script>


     <script type="text/javascript" src="/static/js/libraries/sigma.js/plugins/sigma.plugins.tooltips.min.js"></script> 
     

<!-- CUSTOM RENDERER PLUGIN!! -->
     <script src="/static/js/libraries/linkurious.js.BACKUP/plugins/sigma.renderers.linkurious/webgl/sigma.webgl.edges.arrow.js"></script>
      <script src="/static/js/libraries/linkurious.js.BACKUP/plugins/sigma.renderers.linkurious/webgl/sigma.webgl.edges.def.js"></script>
       <script src="/static/js/libraries/linkurious.js.BACKUP/plugins/sigma.renderers.linkurious/webgl/sigma.webgl.edges.fast.js"></script>
        <script src="/static/js/libraries/linkurious.js.BACKUP/plugins/sigma.renderers.linkurious/webgl/sigma.webgl.nodes.def.js"></script>
         <script src="/static/js/libraries/linkurious.js.BACKUP/plugins/sigma.renderers.linkurious/webgl/sigma.webgl.nodes.fast.js"></script>


    <script src="/static/js/main.js"></script>
    <script src="/static/js/graphManager.js"></script>
    <script src="/static/js/letterManager.js"></script>
    <script src="/static/js/panelManager.js"></script>
    <script src="/static/js/router.js"></script>
    

<script src="/static/js/mustache.min.js"></script>
<div id="container">


   
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300,300italic,700,700italic' rel='stylesheet' type='text/css'>  
    <link rel="stylesheet" type="text/css" href="/static/styles/style.css"/>


        
</head>

<body>


<div id="graphContainer"></div>

<div class="closeLetter"></div>

<div class="masthead">The <em>Correspondence</em> of 1916</div>

<div class="panel">
  <div><a id="showPanel"></a>Console</div>

  <div>
    <h4>Include in graph</h4>
    <p><input id="graphIncludeRepo" type="checkbox" name="repo" value="repo"/> Repository</p>

    <p><button id="graphIncludeSubmit">Rebuild graph</button></p>
  </div>

  <div>
    <h4>Search terms</h4>
    <div id="searchFields"></div>

    <p><button id="searchTermSubmit">add search terms to graph</button></p>
  </div>


</div>

</body>

<script>
        
</script>


<script type="text/javascript">
        
      


 var letterLabelSearchTermTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow letterTT"></div>' +
    ' <div class="sigma-tooltip-header letterTT"><a class="showLetterLink" href="{{data.letterId}}">{{data.title}}</a></div>' +
    '  <div class="sigma-tooltip-body letterTT">' +
   
   '   <h5>Search term in context:</h5> <p class="kwic">{{{data.search_kwic}}}</p>' +
  '  </div>'
    
 {% endraw %}  
    return tmp
};

 var letterLabelTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow letterTT"></div>' +
    ' <div class="sigma-tooltip-header letterTT"><a class="showLetterLink" href="{{data.letterId}}">{{data.title}}</a></div>' +
    '  <div class="sigma-tooltip-body letterTT">' +

  
  '  </div>'
    
 {% endraw %}  
    return tmp
};


var personLabelTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow"></div>' +
    ' <div class="sigma-tooltip-header">{{data.label}}</div>' +
    '  <div class="sigma-tooltip-body">' +

    '  </div>' //+
    //'  <div class="sigma-tooltip-footer">Number of connections chum: {{degree}}</div>';
   {% endraw %}   
    return tmp
};







/*
            var s = new sigma({
                
                graph: g, 
                renderers: [
                    {
                        container: 'graphContainer',
                        type: 'canvas'
                      
                    }
                ],
                settings: {
                    drawLabels: false,
                    drawEdges: true,
                    enableHovering: true
                }

            });


            var config = {
 

            }






       
          //var tooltip = sigma.plugins.tooltips(s, s.renderers[0], config);
          s.bind('clickNode', function(event) {
                var title = event.data.node.label;
                //alert(title);
                console.log(event.data.node);
                history.pushState('data', '', 'http://localhost:5000/' + event.data.node.id);
                windowManager.ajaxRequest(event.data.node);
            });
*/






/*
            var tt = sigma.plugins.tooltips(s, s.renderers[0], {
              node: {
                show: 'clickNode',
                
              }
            });


            var forceConfig = {
               
                startingIterations: 1,
                iterationsPerRender: 2,
                randomize: 'globally',
                randomizeFactor: 1,
                barnesHutOptimize: true,
                barnesHutTheta: 0.5,
              
                worker: true,
                
                linLogMode: true,
                alignNodeSiblings: true

            };
            var fa = sigma.layouts.startForceLink(s, forceConfig);
        
        }*/
/*
        var frConfig = {

        };

        var listener = sigma.layouts.fruchtermanReingold.configure(s, frConfig);

listener.bind('start stop interpolate', function(event) {
  console.log(event.type);
});

        //sigma.layouts.fruchtermanReingold.start(s);
*/

    </script>
     
    
</html>