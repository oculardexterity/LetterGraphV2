<!DOCTYPE html>
<html>
<head>
    <title>L1916GRAPHDEMO</title>
    <script src="/static/js/jquery-2.2.1.min.js"></script>
    <script type="text/javascript" src="/static/js/libraries/sigma.js/build/sigma.min.js"></script>
   <!-- <script type="text/javascript" src="/static/js/libraries/linkurious.js/build/plugins.js"></script> -->
    <!--<script src="/static/js/libraries/linkurious.js/dist/plugins/sigma.layouts.fruchtermanReingold.min.js"></script>-->
 <script src="/static/js/libraries/sigma.js/build/plugins/sigma.plugins.animate.min.js"></script>

  <script type="text/javascript" src="/static/js/libraries/sigma.js/build/plugins/sigma.plugins.neighborhoods.min.js"></script>
    <script type="text/javascript" src="/static/js/libraries/sigma.js/build/plugins/sigma.plugins.filter.min.js"></script>

     <script type="text/javascript" src="/static/js/libraries/jquery.ba-throttle-debounce.min.js"></script>
   



<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.8.1/mustache.min.js"></script>


<div id="container">


   
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300,300italic,700,700italic' rel='stylesheet' type='text/css'>  
    <link rel="stylesheet" type="text/css" href="/static/styles/style.css"/>


        
</head>

<body>


<div id="graphContainer"></div>

<div class="closeLetter"></div>

<div class="masthead">The Letters of 1916</div>

<div class="console">
  <div><a id="showConsole"></a>Console</div>

  <div>
    <h3>Do some stuff to the graph</h3>
  </div>


</div>

</body>

<script>
var s;
$(document).ready(function() {



sigma.classes.graph.addMethod('neighbors', function(nodeId) {

        console.log(this.allNeighborsIndex[nodeId]);
    var k,
        neighbors = {},
        index = this.allNeighborsIndex[nodeId] || {};

    for (k in index)
      neighbors[k] = this.nodesIndex[k];

    return neighbors;
 });



s = new sigma({
    
    renderer: {
        container: document.getElementById('graphContainer'), 
        type: 'webgl'

    },
    settings: {
        drawLabels: true,
        nodesPowRatio: 0.001,
        rescaleIgnoreSize: true,
        autoResize: false,
        zoomMax: 3000,
        minNodeSize: 100,
        maxNodeSize: 6,
        maxEdgeSize: 0.4,
        nodeActiveLevel: 5,
        zoomMin: 0.01
    }
});

/*
s.graph.addNode({'id': '1', 'x': 1, 'y': 1});
s.graph.addNode({'id': '2', 'x': 2, 'y': 2});
s.graph.addEdge({'id': '1_2', 'source': '1', 'target': 2});

*/

s.graph.read({
  nodes: [
    {'id': '1', 'x': 1, 'y': 1},
    {'id': '2', 'x': 2, 'y': 2}
  ],
  edges: [
    {
      id: 'e0',
      source: '1',
      target: '2'
    }
  ]
});
s.refresh()


});
</script>


<script type="text/javascript">
        
      


 var letterLabelSearchTermTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow letterTT"></div>' +
    ' <div class="sigma-tooltip-header letterTT"><a class="showLetterLink" href="{{data.letterId}}">{{data.title}}</a></div>' +
    '  <div class="sigma-tooltip-body letterTT">' +
   
   '   <h5>Search term in context:</h5> {{{data.search_kwic}}}' +
  '  </div>'
    
 {% endraw %}  
    return tmp
};

 var letterLabelTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow letterTT"></div>' +
    ' <div class="sigma-tooltip-header letterTT"><a class="showLetterLink" href="{{data.letterId}}">{{data.title}}</a></div>' +
    '  <div class="sigma-tooltip-body letterTT">' +

  
  '  </div>'
    
 {% endraw %}  
    return tmp
};


var personLabelTemplate = function() {
    {% raw %}
    var tmp = '<div class="arrow"></div>' +
    ' <div class="sigma-tooltip-header">{{data.label}}</div>' +
    '  <div class="sigma-tooltip-body">' +

    '  </div>' +
    '  <div class="sigma-tooltip-footer">Number of connections chum: {{degree}}</div>';
   {% endraw %}   
    return tmp
};







    </script>
</html>